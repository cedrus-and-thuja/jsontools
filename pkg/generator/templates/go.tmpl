package {{.Config.PackageName}}

//-------------------------------------------------------------
// This file is generated and should not be edited manually
//-------------------------------------------------------------

import (
    "github.com/cedrus-and-thuja/jsontools/pkg/generator"
)

{{- range $i, $schema := .Enums}}
type {{$schema.Title | CapFirst}} {{ $schema | GetGoType}}

const (
    {{- range $i, $enum := $schema.Enum}}
    {{$schema.Title | AllCap}}_{{$enum | AllCap}} {{$schema.Title | CapFirst}} = {{$enum | Literalize}}
    {{- end}}
)
{{end}}


{{- range $i, $schema := .Schemas}}
const {{$schema.Title | AllCap -}}_SCHEMA = `{{$schema | MarshalSchema}}`

type {{$schema.Title | CapFirst}} struct {
    {{- range $key, $prop := $schema.Properties}}
    {{$key | CapFirst}} {{$prop | MapType}} `json:"{{$key -}}"`
    {{- end}}
}

func(thing {{$schema.Title | CapFirst}}) Validate() error {
    schema := generator.LoadSchemaFromString({{$schema.Title | AllCap -}}_SCHEMA)
    return schema.Validate(thing)
}

{{end}}

